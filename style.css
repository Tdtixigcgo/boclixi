:root {
    --red-deep: #1a0000;
    --red-mid: #5c0000;
    --red-card: #a51c1c;
    --gold: #f1c40f;
    --gold-light: #ffe566;
    --gold-dark: #b8860b;
    --green-win: #27ae60;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background: radial-gradient(ellipse at 30% 0%, #5a0000 0%, #1a0000 45%, #0d0000 100%);
    color: var(--gold);
    font-family: 'Noto Serif SC', serif;
    min-height: 100vh;
    overflow-x: hidden;
}

.calligraphy { font-family: 'Ma+Shan+Zheng', cursive; font-size: 3.5rem; text-shadow: 0 0 20px var(--gold-dark); margin-bottom: 10px; }

/* Lantern Animation */
.lantern-row { display: flex; justify-content: space-around; padding: 10px; font-size: 2rem; }
.lantern { animation: sway 3.5s ease-in-out infinite; transform-origin: top center; }
@keyframes sway {
    0%, 100% { transform: rotate(-9deg); }
    50% { transform: rotate(9deg); }
}

/* Grid & Cards */
.container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    max-width: 800px;
    margin: 40px auto;
    padding: 20px;
}

.lixi-card { perspective: 1200px; aspect-ratio: 2/3; cursor: pointer; position: relative; }
.card-inner {
    width: 100%; height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

.lixi-card.is-flipped .card-inner { transform: rotateY(180deg); }

.face {
    position: absolute; inset: 0;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    border: 2px solid var(--gold-dark);
    border-radius: 8px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}

.front { background: var(--red-card); color: var(--gold); }
.front-seal { font-size: 4rem; margin-bottom: 5px; }
.corner-deco { position: absolute; font-size: 0.8rem; opacity: 0.6; }
.tl { top: 5px; left: 5px; } .br { bottom: 5px; right: 5px; }

.back { transform: rotateY(180deg); color: white; border-color: white; }
.back.type-user { background: linear-gradient(145deg,#001400,#0d2a0d); border-color: var(--green-win); }
.back.type-big { background: linear-gradient(145deg,#1a1400,#2e2400); border-color: var(--gold); animation: goldPulse 1.8s infinite; }
.back.type-small { background: linear-gradient(145deg,#1a0606,#2d0e0e); }

@keyframes goldPulse { 0%, 100% { box-shadow: 0 0 10px var(--gold); } 50% { box-shadow: 0 0 25px var(--gold); } }

/* Hover effect */
.is-user-card:not(.is-flipped):hover { animation: cardShake 0.45s ease-in-out; }
.is-user-card:not(.is-flipped):hover .front { box-shadow: 0 0 30px var(--gold); border-color: var(--gold); }

@keyframes cardShake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-3deg); }
    75% { transform: rotate(3deg); }
}

.user-label { position: absolute; top: -25px; width: 100%; text-align: center; font-size: 0.8rem; background: var(--gold); color: black; font-weight: bold; border-radius: 4px; }

/* Admin Styles */
.admin-body { background: #0a0a0f; font-family: 'JetBrains Mono', monospace; }
.admin-container { padding: 20px; max-width: 1200px; margin: 0 auto; }
.stat-card { background: #13131a; padding: 20px; border-radius: 8px; border-left: 4px solid var(--gold); }
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
table { width: 100%; border-collapse: collapse; background: #13131a; }
th, td { padding: 12px; text-align: left; border-bottom: 1px solid #222; }
.hidden { display: none !important; }

/* Result Banner */
.result-banner { position: fixed; inset:0; background: rgba(0,0,0,0.9); display:flex; align-items:center; justify-content:center; z-index:100; }
.banner-content { background: var(--red-deep); padding: 40px; border: 3px solid var(--gold); border-radius: 15px; text-align:center; }

@media (max-width: 600px) { .container { grid-template-columns: repeat(2, 1fr); } }
